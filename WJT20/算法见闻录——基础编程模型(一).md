
# 算法见闻录——基础编程模型(一) #

## 目录 ##

1. [前言](#href1)
2. [Java程序的基本结构](#href2)
3. [原始数据类型与表达式](#href3)
4. [语句](#href4)
5. [数组](#href5)
    1. [声明与赋值](#href5-1)
    2. [起别名](#href5-2)
    3. [二维数组](#href5-3)
6. [静态方法](#href6)
    1. [实现与调用](#href6-4)
    2. [递归](#href6-5)
    3. [模块化编程](#href6-6)
    4. [单元测试](#href6-7)

## <a name="href1">前言</a> ##

《算法》全书用 Java 语言演示说明了各种算法知识，在正式学习算法知识之前，必须要了解 Java 的语法特性和一些基本的概念，这正是此篇的意义所在，如果想要直接进入正式的算法学习流程，建议跳过本篇(分为两小篇)。

## <a name="href2">Java程序的基本结构</a> ##

Java 语言基于以下7种语法(绝大部分编程语言也都具有这7种语法):

1. 原始数据类型: 在程序中定义的各种类型的值，包括整型数值、浮点型数值、布尔值等等，它们可以组合为各种表达式;

2. 语句: 分为"声明"、"赋值"、"条件"、"循环"、"调用"和"返回"6种类型;

3. 数组: Java 是强类型语言，这就导致 Java 数组存放的数据类型必须统一;

4. 静态方法: 静态方法可以封装并重用代码，使我们可以用独立的模块开发程序;

5. 字符串: 字符串由一连串的字符组合而成，Java 内置了对它们的一些操作;

6. 标准输入/输出: 标准输入输出是程序与外界联系的桥梁;

7. 数据抽象: 数据抽象封装和重用代码，使我们可以定义非原始数据类型，进而支持面向对象编程(在后续篇章会重点学习数据抽象的知识)。

由于本系列的侧重点是"算法"，所以关于 Java 语法的介绍将尽可能精简化。

## <a name="href3">原始数据类型与表达式</a> ##

数据类型的概念: 一组数据和对其所能进行的操作的集合。

Java 有4种最基本的原始数据类型:

1. 整型(int)，及其算术运算符;

2. 双精度实数类型(double)，及其算术运算符;

3. 布尔型(boolean)，及其逻辑操作;

4. 字符型(char)，包含英文字符和各种合法符号。

## <a name="href4">语句</a> ##

Java 程序由语句组成，语句能够通过创建和操作变量、对变量赋值并控制这些操作的执行流程来描述运算。语句通常会被组织成代码段，即花括号中的一系列语句。

语句分为以下几种:

1. 声明语句: 创建某种类型的变量并用标识符为其命名;

2. 赋值语句: 将(由表达式产生的)某种类型的数值赋予一个变量，其中还包括隐式赋值这种特殊的语法;

3. 条件语句: 根据指定的条件执行两个代码段之一;

4. 循环语句: 只要符合指定的条件，就会不断反复执行代码段中的语句;

5. 调用和返回语句: 和静态方法有关，是改变执行流程和代码组织的另一种方式。

## <a name="href5">数组</a> ##

### <a name="href5-1">声明与赋值</a> ###

数组其实没什么好说的，Java 中创建数组分为以下三个步骤:

1. 声明数组的名字和类型;

2. 创建数组;

3. 初始化数组元素。

数组初始化:

```Java
// 完整模式
double[] arr;
arr = new double[2];
arr[0] = 1.0;
arr[1] = 2.0;

// 简化写法
double[] arr = new double[2];

// 声明初始化
int[] arr = { 1, 2 };
```

### <a name="href5-2">起别名</a> ###

所谓的"起别名"，就类似 JavaScript 中引用类型指向特性，即将一个数组变量赋予另一个变量时，两个变量将会指向同一个数组:

```Java
int[] arr1 = new int[1];
arr1[0] = 5;

int[] arr2 = arr1;
arr2[0] = 10; // 此时arr1[0]的值也变为10
```

### <a name="href5-3">二维数组</a> ###

二维数组就是一维数组的数组，元素数组的长度不要求保持一致，定义和使用二维数组的实例代码如下:

```Java
int[][] arr = new int[2][1]; // 第一维表示行数，第二维是列数
arr[0][0] = 0;
arr[1][0] = 1;
```

## <a name="href6">静态方法</a> ##

在许多语言中，静态方法被称为"函数"，作为一名 JSer，私以为"函数"这个名称更为亲切。

### <a name="href6-4">实现与调用</a> ###

Java 使用修饰符 static 将静态方法与实例方法区分出来，以下是一个简单的静态方法的实现与调用:

```Java
// 实现
public static int add (int num1, int num2) {
    int sum = num1 + num2;
    return sum;
}

// 调用
int result = add(1, 2); // 3
```

### <a name="href6-5">递归</a> ###

所谓递归，就是方法内部再调用自己，看起来像是一种特殊的循环，尤其需要注意的是递归终止条件的设置，如若设置错误，将会导致程序崩溃。使用递归的代码比非递归的代码要简洁优雅得多，至于两者的运行效率，这里不做讨论。使用递归时，还要注意以下三点:

1. 递归总有一个最简单的情况——方法的第一条语句总是包含 return 的条件语句;

2. 递归调用总是去尝试解决一个规模更小的问题，这样递归才能收敛到最简单的情况;

3. 递归调用的父问题和尝试解决的子问题之间不应该有交集。

递归实例:

```Java
public class Recursion {
    public static void enumerate(int[] ary) {
        if (ary.length > 0) {
            int len = ary.length;
            int[] nextAry = new int[len - 1];

            // 下一次调用此函数传入的参数
            for (int i = 1; i < ary.length; i++) {
                nextAry[i - 1] = ary[i];
            }

            System.out.println(ary[0]);
            enumerate(nextAry);
        }
    }

    public static void main(String[] args) {
        /**
         * 执行后输出:
         * 1
         * 2
         * 3
         */
        enumerate(new int[]{1,2,3});
    }
}
```

### <a name="href6-6">模块化编程</a> ###

基础编程模型最重要之处在于通过静态方法库实现了模块化编程。我们可以构造许多个静态方法库(模块)，一个库中的静态方法也能够调用另一个库中定义的静态方法，这样带来的好处是:

1. 程序整体代码量很大的时候，每次处理的模块大小恰好适中;

2. 可以共享和重用代码而无需重新实现;

3. 很容易用改进的实现替换老的实现;

4. 可以为解决编程问题建立合适的抽象模型;

5. 缩小调试范围。

### <a name="href6-7">单元测试</a> ###

Java 中的每个静态方法库中都包含一个 main() 函数来测试库中的所有方法，使用 main() 测试单个静态方法库的方法称为单元测试。恰当的单元测试本身也是很有挑战性的编程任务。每个模块的 main() 方法至少应该调用模块中的其他代码并在某种程度上保证它的正确性。随着模块的成熟，我们可以将 main() 方法作为一个开发用例，在开发过程中用它来测试很多细节; 也可以把它编程一个测试用例来对所有代码进行全面的测试。当用例越来越复杂时，我们可能会将它独立成一个模块。

---

```
ID         : 114
DATE       : 2018/11/14
AUTHER     : WJT20
TAG        : 编程知识
```
